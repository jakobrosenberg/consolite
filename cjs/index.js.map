{"version":3,"sources":["../esm/index.mjs"],"names":["defaults","filter","level","levels","error","warn","debug","trace","noop","x","unique","v","i","a","indexOf","escapeRegExp","str","replace","escapeIfString","ExtendConsole","parent","options","prefix","Proxy","_levels","ownKeys","target","Object","keys","Reflect","getOwnPropertyDescriptor","key","value","enumerable","configurable","get","prop","set","logMethods","console","assign","methods","_prefix","defineProperties","_filter","_level","optsOrPrefix","hasOptions","unshift","createProxy","name","fn","cb","result","undefined","getNearest","accumulatedPrefixes","Array","isArray","delimiter","prefixes","forEach","push","_delimiter","val","root","extendedConsole","proxy","has","t","withinLevel","passesFilter","join","match","canBind","shouldPrint","formattedPrefixes","map","p","bind","Function","createLogger","Consolite"],"mappings":"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","sourcesContent":["// todo delimiter\n\n/**\n * @callback Filter\n * @param {string[]} prefixes\n */\n\n/**\n * @typedef {Object} ConsoliteOptions\n * @prop {Object<string, function>=} methods\n */\n\n/**\n * @typedef {PrefixFn|string} Prefix\n */\n\nconst defaults = {\n  filter: '',\n  level: 3,\n  levels: {\n    default: 3,\n    error: 1,\n    warn: 2,\n    debug: 4,\n    trace: 4,\n  },\n}\n\nconst noop = x => x\nconst unique = (v, i, a) => a.indexOf(v) === i\n\n// $& means the whole matched string\nconst escapeRegExp = str => str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\nconst escapeIfString = str => (typeof str === 'string' ? escapeRegExp(str) : str)\n\nexport class ExtendConsole {\n  _filter = null\n  /** @type {number | (()=>number)} */\n  _level = null\n  _levels = {}\n  _prefix = []\n  _delimiter = null\n  logMethods = /** @type {Console} */ ({})\n\n  /**\n   * @param {ExtendConsole} parent\n   * @param {ConsoliteOptions} options\n   * @param {Prefix[]} prefix\n   */\n  constructor(parent, options, prefix) {\n    this.parent = parent\n    this.options = options\n    if (!parent) this.logMethods = { ...console }\n    Object.assign(this.logMethods, options?.methods)\n    this._prefix = prefix\n    Object.defineProperties(this, {\n      _filter: { enumerable: false },\n      _level: { enumerable: false },\n      _levels: { enumerable: false },\n      _prefix: { enumerable: false },\n    })\n  }\n\n  /**\n   * @template {ConsoliteOptions}  T\n   * @template {ConsoliteOptions extends Object ? T['methods'] : ConsoliteOptions['methods']} Methods\n   * @param {T | Prefix=} optsOrPrefix\n   * @param  {...Prefix} prefix\n   * @returns {ConsoliteLogger<this, Methods>}\n   */\n  createChild(optsOrPrefix, ...prefix) {\n    const hasOptions = typeof optsOrPrefix === 'object'\n    const options = hasOptions ? optsOrPrefix : {}\n    if (!hasOptions && optsOrPrefix) prefix.unshift(optsOrPrefix)\n    return createProxy(this, options, prefix)\n  }\n\n  register(name, fn) {\n    this.logMethods[name] = fn\n  }\n\n  /**\n   * get prop from self or nearest ancestor\n   * @template T\n   * @param {(((T)=>{})|string|symbol)} cb\n   */\n  getNearest(cb) {\n    const fn = typeof cb === 'string' || typeof cb === 'symbol' ? x => x[cb] : cb\n    const result = fn(this)\n    return result !== null && result !== undefined\n      ? result\n      : this.parent && this.parent.getNearest(fn)\n  }\n\n  get prefix() {\n    /** @type {ExtendConsole} */\n    let parent = this\n    const accumulatedPrefixes = [...this._prefix]\n    while ((parent = parent.parent)) accumulatedPrefixes.unshift(...parent._prefix)\n    return accumulatedPrefixes\n  }\n\n  get formattedPrefixes() {\n    if (!this.delimiter) return this.prefix\n    else {\n      const prefixes = []\n      this.prefix.forEach(prefix => prefixes.push(prefix, this.delimiter))\n      return prefixes\n    }\n  }\n\n  get delimiter() {\n    return this.getNearest('_delimiter')\n  }\n\n  set delimiter(value) {\n    this._delimiter = value\n  }\n\n  set prefix(value) {\n    this._prefix = Array.isArray(value) ? value : [value]\n  }\n\n  /** @type {number | (()=>number)} */\n  get level() {\n    const level = this.getNearest('_level') ?? defaults.level\n    return typeof level === 'function' ? level() : level\n  }\n\n  /** @type {number | (()=>number)} */\n  set level(val) {\n    this._level = val\n  }\n  get filter() {\n    return this.getNearest('_filter') ?? defaults.filter\n  }\n  set filter(val) {\n    this._filter = val\n  }\n  get __self() {\n    return this\n  }\n  get root() {\n    return this.parent?.root || this\n  }\n\n  levels = new Proxy(this._levels, {\n    // todo could be cleaner. Might not need proxy\n    ownKeys: target =>\n      [\n        ...Object.keys(defaults.levels),\n        ...Object.keys(this.parent?.levels || {}),\n        ...Reflect.ownKeys(target),\n      ].filter(unique),\n    getOwnPropertyDescriptor: (target, key) => ({\n      value: target[key],\n      enumerable: true,\n      configurable: true,\n    }),\n    get: (target, prop) =>\n      target[prop] ||\n      target.default ||\n      this.parent?.levels[prop] ||\n      this.parent?.levels.default ||\n      defaults.levels[prop] ||\n      defaults.levels.default,\n    set: (target, prop, value) => (target[prop] = value),\n  })\n}\n\n/**\n * @template {ConsoliteOptions} O\n * @template {ExtendConsole} P\n * @param {P} parent\n * @param {O | null} options\n * @param {(string|PrefixFn)[]} prefix\n * @returns {ConsoliteLogger<P, Console & O['methods']>}\n */\nexport const createProxy = (parent, options, prefix) => {\n  const extendedConsole = new ExtendConsole(parent, options, prefix)\n  const proxy = /** @type {ConsoliteLogger<P, Console & O['methods']>} */ (\n    new Proxy(extendedConsole, {\n      get(target, prop) {\n        if (Reflect.has(target, prop)) return Reflect.get(target, prop)\n\n        const fn = target.getNearest(t => t.logMethods[prop])\n\n        if (fn) {\n          const withinLevel = prop => target.levels[prop] <= target.level\n          const passesFilter = () =>\n            typeof target.filter === 'function'\n              ? target.filter(target.prefix, prop)\n              : target.prefix.join('').match(escapeIfString(target.filter))\n\n          const canBind = typeof fn === 'function'\n          const shouldPrint = withinLevel(prop) && passesFilter() && canBind\n          const prefixes = target.formattedPrefixes.map(p =>\n            typeof p === 'string' ? p : p(prop),\n          )\n\n          return shouldPrint ? fn.bind(console, ...prefixes) : noop\n        }\n      },\n      set(target, prop, value) {\n        if (Reflect.has(target, prop)) target[prop] = value\n        else if (value instanceof Function) target.logMethods[prop] = value\n        else return false\n        return true\n      },\n      ownKeys(target) {\n        const keys = [...Reflect.ownKeys(target), ...Reflect.ownKeys(target.logMethods)]\n        let parent = target\n        while ((parent = parent.parent)) keys.push(...Reflect.ownKeys(parent.logMethods))\n        return keys\n      },\n      getOwnPropertyDescriptor(target, prop) {\n        if (Reflect.get(target, prop))\n          return Object.getOwnPropertyDescriptor(target, prop)\n\n        return (\n          parent.getNearest(t => Object.getOwnPropertyDescriptor(t.logMethods, prop)) ||\n          undefined\n        )\n      },\n    })\n  )\n  return proxy\n}\n\n/**\n * @callback PrefixFn\n * @param {string|symbol} method console method, eg. log, debug etc...\n */\n\n/**\n * @template {ExtendConsole} Parent\n * @template {ConsoliteOptions['methods']} Methods\n * @typedef {Parent & Methods} ConsoliteLogger\n **/\n\n/**\n * @template {ConsoliteOptions} O\n * @param {O | Prefix=} optsOrPrefix\n * @param {(string|PrefixFn)[]} prefix\n * @returns {ConsoliteLogger<ExtendConsole, Console & O['methods']>}\n */\nexport const createLogger = (optsOrPrefix, ...prefix) => {\n  const hasOptions = typeof optsOrPrefix === 'object'\n  const options = hasOptions ? optsOrPrefix : {}\n  if (!hasOptions && optsOrPrefix) prefix.unshift(optsOrPrefix)\n  return createProxy(this, options, prefix)\n}\n\nexport class Consolite {\n  constructor(optsOrPrefix, ...prefix) {\n    return createLogger(optsOrPrefix, ...prefix)\n  }\n}\n"],"file":"index.js"}